<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Management System</title>
</head>
<body>
  <h1>User Management System</h1>
  
  <!-- 注册表单 -->
  <h2>Register</h2>
  <form id="registerForm">
    <label for="registerUsername">Username:</label>
    <input type="text" id="registerUsername" required>
    <label for="registerPassword">Password:</label>
    <input type="password" id="registerPassword" required>
    <button type="submit">Register</button>
  </form>
  
  <!-- 登录表单 -->
  <h2>Login</h2>
  <form id="loginForm">
    <label for="loginUsername">Username:</label>
    <input type="text" id="loginUsername" required>
    <label for="loginPassword">Password:</label>
    <input type="password" id="loginPassword" required>
    <button type="submit">Login</button>
  </form>
  
  <!-- 用户列表 -->
  <h2>User List</h2>
  <ul id="userList"></ul>

  <script>
    // 检查本地存储中是否有用户数据
    let users = JSON.parse(localStorage.getItem('users')) || [];

    // 添加用户
    function addUser(username, password) {
      users.push({ username, password });
      localStorage.setItem('users', JSON.stringify(users));
    }

    // 显示用户列表
    function displayUsers() {
      const userList = document.getElementById('userList');
      userList.innerHTML = '';
      users.forEach(user => {
        const li = document.createElement('li');
        li.textContent = `${user.username}`;
        userList.appendChild(li);
      });
    }

    // 注册表单提交处理
    const registerForm = document.getElementById('registerForm');
    registerForm.addEventListener('submit', function(event) {
      event.preventDefault();
      const registerUsername = document.getElementById('registerUsername').value;
      const registerPassword = document.getElementById('registerPassword').value;
      addUser(registerUsername, registerPassword);
      displayUsers();
      registerForm.reset();
    });

    // 登录表单提交处理
    const loginForm = document.getElementById('loginForm');
    loginForm.addEventListener('submit', function(event) {
      event.preventDefault();
      const loginUsername = document.getElementById('loginUsername').value;
      const loginPassword = document.getElementById('loginPassword').value;
      const user = users.find(u => u.username === loginUsername && u.password === loginPassword);
      if (user) {
        alert('登录成功！欢迎回来，' + user.username);
        // 这里可以跳转到登录后的页面或执行其他操作
      } else {
        alert('用户名或密码错误！');
      }
      loginForm.reset();
    });

    // 初始显示用户列表
    displayUsers();
  </script>
</body>
</html>
